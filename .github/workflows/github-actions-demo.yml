name: GitHub Actions Demo
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: npm install 
      - run: make lint
      - run: NODE_OPTIONS=--experimental-vm-modules npx jest --coverage

name: Test & publish code coverage
uses: paambaati/codeclimate-action@v3
env:
  CC_TEST_REPORTER_ID: ${{ secrets.CC_TEST_REPORTER_ID }}
with:
  coverageCommand: make test-coverage